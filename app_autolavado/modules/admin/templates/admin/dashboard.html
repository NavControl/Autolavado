{% extends 'admin/base.html' %}

{% block content %}
<div class="page-head">
  <div>
    <h2 class="page-title">Dashboard del Autolavado</h2>
    <p class="page-sub">Resumen de actividad y accesos rÃ¡pidos</p>
  </div>
  <div class="page-actions">
    <a href="#" class="btn-primary-sm">+ Nueva cita</a>
  </div>
</div>

<section class="grid-3">
  <article class="metric">
    <div class="metric-label">Citas de hoy</div>
    <div class="metric-value">12</div>
    <div class="metric-foot success">+3 vs ayer</div>
  </article>

  <article class="metric">
    <div class="metric-label">Clientes activos</div>
    <div class="metric-value">48</div>
    <div class="metric-foot">Ãºltimos 30 dÃ­as</div>
  </article>

  <article class="metric">
    <div class="metric-label">Servicios disponibles</div>
    <div class="metric-value">7</div>
    <div class="metric-foot">catÃ¡logo actual</div>
  </article>

  <article class="metric">
    <div class="metric-label">Ingresos (Ãºltimos 30 dÃ­as)</div>
    <div class="metric-value">
      ${{ '%.2f'|format((pagos_resumen.total_30d if pagos_resumen else 0)) }}
    </div>
    <div class="metric-foot">pagos registrados</div>
  </article>

  <article class="metric">
    <div class="metric-label">Pagos pendientes</div>
    <div class="metric-value">
      {{ pagos_resumen.pendientes if pagos_resumen else 0 }}
    </div>
    <div class="metric-foot">
      <a href="{{ url_for('pagos.lista_pagos') }}" class="link">Ver pagos</a>
    </div>
  </article>
</section>

<section class="card mt">
  <header class="card-head">
    <div class="card-title">
      <h3>Ãšltimas citas</h3>
      <span class="tag">hoy</span>
    </div>
    <form class="filters" aria-label="Filtros de citas">
      <label class="visually-hidden" for="f-estado">Estado</label>
      <select id="f-estado" class="select-sm">
        <option>Estado: Todos</option>
        <option>Pendiente</option>
        <option>Confirmada</option>
        <option>Completada</option>
        <option>Cancelada</option>
      </select>
      <label class="visually-hidden" for="f-fecha">Fecha</label>
      <input id="f-fecha" class="select-sm" type="date">
      <label class="visually-hidden" for="f-texto">Texto</label>
      <input id="f-texto" class="select-sm" type="text" placeholder="Cliente / placas">
      <button class="btn-outline-sm" type="button">Aplicar</button>
    </form>
  </header>

  <div class="table-wrap">
    <table class="table">
      <thead>
        <tr>
          <th>Cliente</th>
          <th>VehÃ­culo</th>
          <th>Servicio</th>
          <th>Fecha</th>
          <th>Estado</th>
          <th class="text-end">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Juan PÃ©rez</td>
          <td>Nissan Versa Â· ABC123</td>
          <td>Lavado Premium</td>
          <td>01/09/2025 10:00</td>
          <td><span class="badge success">Confirmada</span></td>
          <td class="text-end">
            <a href="#" class="btn-chip success">Confirmar</a>
            <a href="#" class="btn-chip warn">Reprogramar</a>
            <a href="#" class="btn-chip danger">Cancelar</a>
          </td>
        </tr>
        <tr>
          <td>MarÃ­a LÃ³pez</td>
          <td>Chevrolet Aveo Â· XYZ456</td>
          <td>Lavado BÃ¡sico</td>
          <td>01/09/2025 11:30</td>
          <td><span class="badge warn">Pendiente</span></td>
          <td class="text-end">
            <a href="#" class="btn-chip success">Confirmar</a>
            <a href="#" class="btn-chip warn">Reprogramar</a>
            <a href="#" class="btn-chip danger">Cancelar</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <footer class="card-foot">
    <span class="muted">Mostrando 1â€“2 de 2</span>
    <nav class="pager" aria-label="PaginaciÃ³n">
      <a href="#" class="btn-outline-sm disabled" aria-disabled="true">Â«</a>
      <a href="#" class="btn-outline-sm active" aria-current="page">1</a>
      <a href="#" class="btn-outline-sm">2</a>
      <a href="#" class="btn-outline-sm">Â»</a>
    </nav>
  </footer>
</section>

<section class="empty hidden" aria-hidden="true">
  <div class="empty-ico">ðŸ“…</div>
  <h3>No hay citas hoy</h3>
  <p class="muted">Programa una nueva cita para comenzar.</p>
  <a href="#" class="btn-primary-sm">Crear cita</a>
</section>
{% endblock %}
