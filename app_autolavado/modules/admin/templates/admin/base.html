<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Autolavado · Panel de Administración{% endblock %}</title>

  {% block extra_css %}
  <!-- Estilos principales -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-confirm.css') }}">
  <link rel="stylesheet" href="{{ url_for('admin.static', filename='css/styles.css') }}">
  {% endblock %}
</head>

<body>
  <!-- Barra superior -->
  <header class="topbar" role="banner">
    <div class="container-fluid topbar-inner">
      <div class="d-flex align-items-center gap-3">
        <button class="icon-btn d-md-none" aria-label="Abrir menú" id="openSidebar" aria-controls="sidebar"
          aria-expanded="false">
          <i class="fas fa-bars"></i>
        </button>
        <div class="brand">
          <div class="brand-logo" aria-hidden="true">🚗</div>
          <span class="brand-name">Autolavado Admin</span>
        </div>
      </div>

      <div class="user">
        <div class="user-meta d-none d-sm-block">
          <div class="user-name">Administrador</div>
          <div class="user-mail">admin@autolavado.com</div>
        </div>
        <div class="avatar" aria-hidden="true">
          <i class="fas fa-user"></i>
        </div>
      </div>
    </div>
  </header>

  <div class="layout">
    <!-- Barra lateral -->
    <aside id="sidebar" class="sidebar" role="navigation" aria-label="Menú principal">
      <nav class="nav-rail">
        <a class="nav-link {% if request.endpoint == 'admin.inicio' %}active{% endif %}"
          href="{{ url_for('admin.inicio') }}"
          aria-current="{% if request.endpoint == 'admin.inicio' %}page{% else %}false{% endif %}">
          <span class="nav-ico"><i class="fas fa-home"></i></span>
          <span class="nav-txt">Dashboard</span>
        </a>

        <a class="nav-link" href="{{ url_for('services.servicio_inicio') }}">
          <span class="nav-ico">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path d="M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h10v2H4v-2z" fill="currentColor" />
            </svg>
          </span>
          <span class="nav-txt">Servicios</span>
        </a>

        <a class="nav-link" href="{{ url_for('services.listar_paquetes') }}">
          <span class="nav-ico">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path
                d="M7 2h10a2 2 0 0 1 2 2v2H5V4a2 2 0 0 1 2-2zm-2 6h14v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8zm8 3h5v2h-5v-2z"
                fill="currentColor" />
            </svg>
          </span>
          <span class="nav-txt">Paquetes</span>
        </a>

        <a class="nav-link" href="{{ url_for('citas.admin_citas') }}">
          <span class="nav-ico">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path
                d="M7 2h10a2 2 0 0 1 2 2v2H5V4a2 2 0 0 1 2-2zm-2 6h14v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8zm8 3h5v2h-5v-2z"
                fill="currentColor" />
            </svg>
          </span>
          <span class="nav-txt">Citas</span>
        </a>

        <a class="nav-link {% if request.endpoint == 'admin.clientes' %}active{% endif %}"
          href="{{ url_for('admin.clientes') }}">
          <span class="nav-ico"><i class="fas fa-users"></i></span>
          <span class="nav-txt">Clientes</span>
        </a>

        <a class="nav-link" href="{{ url_for('admin.usuarios') }}">
          <span class="nav-ico">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5zm0 2c-4.33 0-8 2.17-8 5v1h16v-1c0-2.83-3.67-5-8-5z"
                fill="currentColor" />
            </svg>
          </span>
          <span class="nav-txt">Usuarios</span>
        </a>

        <!-- Módulo Pagos -->
        <a class="nav-link {% if 'pagos' in request.endpoint %}active{% endif %}" href="{{ url_for('pagos.lista_pagos') }}">
          <span class="nav-ico"><i class="fas fa-money-bill-wave"></i></span>
          <span class="nav-txt">Pagos</span>
        </a>

        <!-- Módulo Promociones -->
        <a class="nav-link {% if 'promociones' in request.endpoint %}active{% endif %}"
          href="{{ url_for('promociones.lista_promociones') }}">
          <span class="nav-ico"><i class="fas fa-tags"></i></span>
          <span class="nav-txt">Promociones</span>
        </a>

        <div class="nav-sep" aria-hidden="true"></div>

        <a class="nav-link text-danger" href="{{ url_for('auth.salir') }}">
          <span class="nav-ico">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path d="M16 13v-2H7V8l-5 4 5 4v-3h9zM20 3h-8v2h8v14h-8v2h8a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"
                fill="currentColor" />
            </svg>
          </span>
          <span class="nav-txt">Salir</span>
        </a>
      </nav>
    </aside>

    <!-- Contenido principal -->
    <main class="content" role="main">
      {% block content %}{% endblock %}
    </main>
  </div>

  <!-- Scripts principales -->
  <script src="{{ url_for('static', filename='js/jquery-3.7.1.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/jquery-confirm.js') }}"></script>
  <script src="{{ url_for('static', filename='js/funciones.js') }}"></script>
  <script src="{{ url_for('admin.static', filename='js/admin.js') }}"></script>
  <script src="{{ url_for('services.static', filename='js/services.js') }}"></script>
  {% block extra_js %}{% endblock %}
</body>

</html>
